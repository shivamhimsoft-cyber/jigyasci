<!-- templates/bookmarks/my_bookmarks.html -->
{% extends "frontBase.html" %}

{% block title %}Research Collaboration Platform | My Bookmarks{% endblock %}
{% block navbar_extra_profile %}
<div><img src="../static/images/logo-shade_blue.png" class="lg:h-[60px] md:h-[60px] h-[50px] w-auto " alt=""></div>
{% endblock %}

{% block nav_bar_width %}
lg:w-[70%] md:w-[90%] w-full py-2
{% endblock %}

{% block footer_width %}
lg:w-[70%] md:w-[90%] w-full
{% endblock %}  

{% block content %}
<div class="w-full flex justify-center p-4 min-h-screen bg-gradient-to-br from-gray-50 to-blue-50">
    <div class="lg:w-[70%] md:w-[90%] w-full">
        <!-- Header Section -->
        <div class="bg-gradient-to-r from-primary to-secondary rounded-xl shadow-xl p-6 mb-6 text-white">
            <div class="flex justify-between items-center mb-2">
                <div class="flex items-center">
                    <div class="w-12 h-12 rounded-full bg-white/20 flex items-center justify-center mr-4">
                        <i class="fas fa-bookmark text-xl"></i>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold">My Bookmarks</h1>
                        <p class="text-blue-100">Your saved content across the platform</p>
                    </div>
                </div>
                {% if bookmarks %}
                <button onclick="clearAllBookmarks()" class="px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-all duration-300 text-sm backdrop-blur-sm border border-white/30">
                    <i class="fas fa-trash mr-1"></i> Clear All
                </button>
                {% endif %}
            </div>
            
            <!-- Stats Bar with Filtering -->
            <div class="flex flex-wrap gap-2 mt-4">
                <button class="filter-btn px-3 py-1 rounded-full text-xs backdrop-blur-sm border border-white/30 transition-all duration-300 active" data-filter="all">
                    <span class="font-medium">{{ total_bookmarks }}</span> All
                </button>
                {% if bookmarks %}
                    {% for bookmark_type, items in bookmarks.items() %}
                    <button class="filter-btn px-3 py-1 rounded-full text-xs backdrop-blur-sm border border-white/30 transition-all duration-300" data-filter="{{ bookmark_type }}">
                        <span class="font-medium">{{ items|length }}</span> {{ bookmark_type }}s
                    </button>
                    {% endfor %}
                {% else %}
                    <div class="bg-white/10 px-3 py-1 rounded-full text-xs backdrop-blur-sm">
                        <span class="font-medium">0</span> items bookmarked
                    </div>
                {% endif %}
            </div>
        </div>

        {% if bookmarks %}
            <!-- All Bookmarks Section -->
            <div id="all-bookmarks" class="bookmark-section">
                {% for bookmark_type, items in bookmarks.items() %}
                <!-- Bookmark Category Section -->
                <div class="bookmark-category mb-8" data-type="{{ bookmark_type }}">
                    <div class="flex items-center mb-4 p-3 bg-white rounded-lg shadow-sm">
                        <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-primary/10 to-secondary/10 flex items-center justify-center mr-3">
                            <i class="fas fa-{% if bookmark_type == 'profile' %}user{% elif bookmark_type == 'publication' %}file-alt{% elif bookmark_type == 'project' %}list-check{% elif bookmark_type == 'education' %}graduation-cap{% elif bookmark_type == 'experience' %}briefcase{% elif bookmark_type == 'facility' %}flask{% elif bookmark_type == 'technology' %}microchip{% elif bookmark_type == 'skill' %}tools{% elif bookmark_type == 'award' %}trophy{% elif bookmark_type == 'team' %}users{% else %}bookmark{% endif %} text-primary"></i>
                        </div>
                        <div>
                            <h2 class="text-lg font-semibold text-gray-800 capitalize">{{ bookmark_type }}s</h2>
                            <p class="text-gray-500 text-sm">{{ items|length }} saved items</p>
                        </div>
                    </div>
                    
                    <!-- Bookmark Cards Grid -->
                    <div class="grid md:grid-cols-2 gap-5">
                        {% for bookmark_item in items %}
                            {% set bookmark = bookmark_item.bookmark %}
                            {% set item = bookmark_item.item %}
                            {% set item_type = bookmark_item.type %}
                            {% set item_title = bookmark_item.title %}
                            {% set item_description = bookmark_item.description %}
                            
                            <div class="bookmark-card bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-300 overflow-hidden border border-gray-100 relative group" data-type="{{ bookmark_type }}">
                                <!-- Header accent bar -->
                                <div class="h-1 w-full bg-gradient-to-r from-primary to-secondary"></div>
                                
                                <div class="p-5">
                                    <!-- Remove bookmark button -->
                                    <button class="bookmark-btn absolute top-4 right-4 p-2 rounded-full bg-red-50 text-red-500 hover:bg-red-100 transition-all duration-300 opacity-0 group-hover:opacity-100 remove-bookmark shadow-sm"
                                            data-type="{{ item_type }}" 
                                            data-id="{{ item.id }}"
                                            title="Remove bookmark">
                                        <i class="fas fa-trash text-sm"></i>
                                    </button>
                                    
                                    <!-- Content based on item type -->
                                    {% if item_type == 'profile' %}
                                        <!-- Profile Bookmark Card -->
                                        <div class="flex items-center mb-4">
                                            <div class="w-14 h-14 rounded-full bg-gradient-to-br from-primary/10 to-secondary/10 flex items-center justify-center overflow-hidden mr-4 border-2 border-white shadow-sm">
                                                {% if item.profile_picture %}
                                                <img src="{{ url_for('static', filename='uploads/' + item.profile_picture) }}" class="w-full h-full object-cover">
                                                {% else %}
                                                <i class="fas fa-user text-gray-500 text-xl"></i>
                                                {% endif %}
                                            </div>
                                            <div class="flex-1 min-w-0">
                                                <h3 class="font-bold text-gray-800 truncate">{{ item.name }}</h3>
                                                <p class="text-sm text-gray-600 truncate">
                                                    {{ item.current_designation if item.current_designation else 'N/A' }}
                                                </p>
                                            </div>
                                        </div>
                                        <div class="mt-4 pt-3 border-t border-gray-100">
                                            <a href="{{ url_for('faculty_info', profile_id=item.profile.id) if item.profile else '#' }}" 
                                               class="inline-flex items-center text-primary hover:text-primary/80 text-sm font-medium transition-colors">
                                                <i class="fas fa-eye mr-2"></i> View Profile
                                            </a>
                                        </div>

                                    {% elif item_type == 'student' %}
                                        <!-- Student Bookmark Card -->
                                        <div class="flex items-center mb-4">
                                            <div class="w-14 h-14 rounded-full bg-gradient-to-br from-green-100 to-teal-100 flex items-center justify-center overflow-hidden mr-4 border-2 border-white shadow-sm">
                                                {% if item.profile_picture %}
                                                <img src="{{ url_for('static', filename='uploads/' + item.profile_picture) }}" class="w-full h-full object-cover">
                                                {% else %}
                                                <i class="fas fa-user-graduate text-gray-500 text-xl"></i>
                                                {% endif %}
                                            </div>
                                            <div class="flex-1 min-w-0">
                                                <h3 class="font-bold text-gray-800 truncate">{{ item.name }}</h3>
                                                <p class="text-sm text-gray-600">Student</p>
                                            </div>
                                        </div>
                                        <div class="mt-4 pt-3 border-t border-gray-100">
                                            <a href="{{ url_for('student.student_details', student_id=item.id) if item.id else '#' }}" 
                                               class="inline-flex items-center text-primary hover:text-primary/80 text-sm font-medium transition-colors">
                                                <i class="fas fa-eye mr-2"></i> View Student Profile
                                            </a>
                                        </div>

                                    {% elif item_type == 'vendor' %}
                                        <!-- Vendor Bookmark Card -->
                                        <div class="flex items-center mb-4">
                                            <div class="w-14 h-14 rounded-full bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center overflow-hidden mr-4 border-2 border-white shadow-sm">
                                                {% if item.profile_picture %}
                                                <img src="{{ url_for('static', filename='uploads/' + item.profile_picture) }}" class="w-full h-full object-cover">
                                                {% else %}
                                                <i class="fas fa-building text-gray-500 text-xl"></i>
                                                {% endif %}
                                            </div>
                                            <div class="flex-1 min-w-0">
                                                <h3 class="font-bold text-gray-800 truncate">{{ item.name }}</h3>
                                                <p class="text-sm text-gray-600">Vendor</p>
                                            </div>
                                        </div>
                                        <div class="mt-4 pt-3 border-t border-gray-100">
                                            <a href="{{ url_for('vendor.vendor_profile', vendor_id=item.id) if item.id else '#' }}" 
                                               class="inline-flex items-center text-primary hover:text-primary/80 text-sm font-medium transition-colors">
                                                <i class="fas fa-eye mr-2"></i> View Vendor Profile
                                            </a>
                                        </div>

                                    {% elif item_type == 'industry' %}
                                        <!-- Industry Bookmark Card -->
                                        <div class="flex items-center mb-4">
                                            <div class="w-14 h-14 rounded-full bg-gradient-to-br from-orange-100 to-red-100 flex items-center justify-center overflow-hidden mr-4 border-2 border-white shadow-sm">
                                                {% if item.profile_picture %}
                                                <img src="{{ url_for('static', filename='uploads/' + item.profile_picture) }}" class="w-full h-full object-cover">
                                                {% else %}
                                                <i class="fas fa-industry text-gray-500 text-xl"></i>
                                                {% endif %}
                                            </div>
                                            <div class="flex-1 min-w-0">
                                                <h3 class="font-bold text-gray-800 truncate">{{ item.name }}</h3>
                                                <p class="text-sm text-gray-600">Industry</p>
                                            </div>
                                        </div>
                                        <div class="mt-4 pt-3 border-t border-gray-100">
                                            <a href="{{ url_for('industry.industry_profile', industry_id=item.id) if item.id else '#' }}" 
                                               class="inline-flex items-center text-primary hover:text-primary/80 text-sm font-medium transition-colors">
                                                <i class="fas fa-eye mr-2"></i> View Industry Profile
                                            </a>
                                        </div>

                                    {% elif item_type == 'technology' %}
                                        <!-- Technology Bookmark Card -->
                                        <div class="mb-4">
                                            <div class="flex justify-between items-start">
                                                <h3 class="font-bold text-gray-800 text-lg mb-1 flex-1 pr-2">{{ item.title }}</h3>
                                                <span class="bg-gradient-to-r from-primary/10 to-secondary/10 text-primary text-xs font-medium px-2 py-1 rounded-full">
                                                    TRL {{ item.trl }}/9
                                                </span>
                                            </div>
                                            {% if item.description %}
                                            <p class="text-gray-700 text-sm mb-3 line-clamp-2">{{ item.description }}</p>
                                            {% endif %}
                                            <div class="flex flex-wrap gap-2 mt-2">
                                                <span class="bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded">
                                                    IP: {{ item.ip_status }}
                                                </span>
                                                <span class="bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded">
                                                    {{ item.licensing_intent }}
                                                </span>
                                            </div>
                                        </div>
                                        <div class="mt-4 pt-3 border-t border-gray-100">
                                            <a href="{{ url_for('technology.view_technology', tech_id=item.id) if item.id else '#' }}" 
                                               class="inline-flex items-center text-primary hover:text-primary/80 text-sm font-medium transition-colors">
                                                <i class="fas fa-eye mr-2"></i> View Technology Details
                                            </a>
                                        </div>

                                    {% elif item_type == 'publication' %}
                                        <!-- Publication Bookmark Card -->
                                        <div class="mb-4">
                                            <h3 class="font-bold text-gray-800 text-lg mb-2">"{{ item.title }}"</h3>
                                            <p class="text-gray-600 text-sm mb-2 line-clamp-1">{{ item.authors }}</p>
                                            <p class="text-gray-600 text-sm mb-3">{{ item.journal_or_conference }} ({{ item.year }})</p>
                                        </div>
                                        <div class="mt-4 pt-3 border-t border-gray-100">
                                           <a href="{{ url_for('publication.view_publication', pub_id=item.id) }}" 
                                            class="inline-flex items-center text-primary hover:text-primary/80 text-sm font-medium transition-colors">
                                                <i class="fas fa-eye mr-2"></i> View Publication Details
                                            </a>
                                        </div>

                                    {% elif item_type == 'project' %}
                                        <!-- Project Bookmark Card -->
                                        <div class="mb-4">
                                            <div class="flex justify-between items-start mb-2">
                                                <h3 class="font-bold text-gray-800 text-lg flex-1 pr-2">{{ item.title }}</h3>
                                                <span class="text-xs font-medium px-2 py-1 rounded-full {% if item.status == 'Active' %}bg-green-100 text-green-700{% else %}bg-primary/10 text-primary{% endif %}">
                                                    {{ item.status }}
                                                </span>
                                            </div>
                                            {% if item.description %}
                                            <p class="text-gray-700 text-sm mb-3 line-clamp-2">{{ item.description }}</p>
                                            {% endif %}
                                            <div class="flex items-center text-gray-500 text-xs mt-2">
                                                <i class="fas fa-calendar mr-1"></i>
                                                <span>
                                                    {{ item.start_date.strftime('%b %Y') if item.start_date else 'N/A' }} - 
                                                    {% if item.end_date %}
                                                        {{ item.end_date.strftime('%b %Y') }}
                                                    {% else %}
                                                        Ongoing
                                                    {% endif %}
                                                </span>
                                            </div>
                                        </div>

                                    {% elif item_type == 'education' %}
                                        <!-- Education Bookmark Card -->
                                        <div class="mb-4">
                                            <h3 class="font-bold text-gray-800 text-lg mb-2">{{ item.degree_name }}</h3>
                                            <p class="text-gray-600 text-sm mb-2">{{ item.college }}, {{ item.university }}</p>
                                            <div class="flex items-center text-gray-500 text-xs">
                                                <i class="fas fa-calendar mr-1"></i>
                                                <span>
                                                    {{ item.start_year }} - {% if item.currently_pursuing %}Present{% else %}{{ item.end_year }}{% endif %}
                                                </span>
                                            </div>
                                        </div>

                                    {% elif item_type == 'experience' %}
                                        <!-- Experience Bookmark Card -->
                                        <div class="mb-4">
                                            <h3 class="font-bold text-gray-800 text-lg mb-2">{{ item.position }}</h3>
                                            <p class="text-gray-600 text-sm mb-2">{{ item.project_title }}</p>
                                            <div class="flex items-center text-gray-500 text-xs">
                                                <i class="fas fa-calendar mr-1"></i>
                                                <span>
                                                    {{ item.start_date.strftime('%b %Y') if item.start_date else 'N/A' }} - 
                                                    {% if item.currently_working %}Present{% else %}{{ item.end_date.strftime('%b %Y') if item.end_date else 'N/A' }}{% endif %}
                                                </span>
                                            </div>
                                        </div>

                                    {% elif item_type == 'facility' %}
                                        <!-- Facility Bookmark Card -->
                                        <div class="mb-4">
                                            <h3 class="font-bold text-gray-800 text-lg mb-2">{{ item.equipment_name }}</h3>
                                            <p class="text-gray-600 text-sm mb-2">{{ item.make }} {{ item.model }}</p>
                                            <div class="flex flex-wrap gap-2 mt-2">
                                                <span class="bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded">
                                                    Type: {{ item.equipment_type }}
                                                </span>
                                                <span class="text-xs px-2 py-1 rounded {% if item.working_status == 'Working' %}bg-green-100 text-green-700{% else %}bg-red-100 text-red-700{% endif %}">
                                                    {{ item.working_status }}
                                                </span>
                                            </div>
                                        </div>

                                    {% elif item_type == 'skill' %}
                                        <!-- Skill Bookmark Card -->
                                        <div class="mb-4">
                                            <h3 class="font-bold text-gray-800 text-lg mb-2">{{ item.skill_name }}</h3>
                                            <p class="text-gray-600 text-sm mb-3">{{ item.skill_type }}</p>
                                            <div class="w-full bg-gray-200 rounded-full h-2.5 mb-1">
                                                <div class="bg-gradient-to-r from-primary to-secondary h-2.5 rounded-full" 
                                                     style="width: {% if item.proficiency_level == 'Beginner' %}25%{% elif item.proficiency_level == 'Intermediate' %}50%{% elif item.proficiency_level == 'Advanced' %}75%{% else %}100%{% endif %}">
                                                </div>
                                            </div>
                                            <p class="text-gray-500 text-xs text-right">{{ item.proficiency_level }}</p>
                                        </div>

                                    {% elif item_type == 'award' %}
                                        <!-- Award Bookmark Card -->
                                        <div class="text-center mb-4">
                                            <div class="text-yellow-500 text-4xl mb-3">
                                                <i class="fas fa-award"></i>
                                            </div>
                                            <h3 class="font-bold text-gray-800 text-lg mb-2">{{ item.title }}</h3>
                                            <p class="text-gray-600 text-sm mb-2">{{ item.issuing_organization }}</p>
                                            <div class="flex items-center justify-center text-gray-500 text-xs">
                                                <i class="fas fa-calendar mr-1"></i>
                                                <span>{{ item.date.strftime('%b %Y') if item.date else 'N/A' }}</span>
                                            </div>
                                        </div>

                                    {% elif item_type == 'team' %}
                                        <!-- Team Bookmark Card -->
                                        <div class="flex items-center">
                                            <div class="w-12 h-12 rounded-full bg-gradient-to-br from-primary/10 to-secondary/10 flex items-center justify-center overflow-hidden mr-4 border-2 border-white shadow-sm">
                                                {% if item.student and item.student.profile_picture %}
                                                <img src="{{ url_for('static', filename='uploads/' + item.student.profile_picture) }}" class="w-full h-full object-cover">
                                                {% else %}
                                                <i class="fas fa-user text-gray-500"></i>
                                                {% endif %}
                                            </div>
                                            <div class="flex-1 min-w-0">
                                                <h3 class="font-bold text-gray-800 text-sm truncate">
                                                    {% if item.student %}
                                                        {{ item.student.name }}
                                                    {% else %}
                                                        {{ item.name }}
                                                    {% endif %}
                                                </h3>
                                                <p class="text-gray-600 text-xs truncate">{{ item.position }}</p>
                                                <p class="text-xs mt-1">
                                                    <span class="{% if item.status == 'Current' %}text-green-600 font-medium{% else %}text-gray-600{% endif %}">
                                                        {{ item.status }}
                                                    </span>
                                                </p>
                                            </div>
                                        </div>

                                    {% else %}
                                        <!-- Generic Bookmark Card -->
                                        <div class="mb-4">
                                            <h3 class="font-bold text-gray-800 text-lg mb-2">
                                                {{ item_title }}
                                            </h3>
                                            {% if item_description %}
                                            <p class="text-gray-700 text-sm line-clamp-3">{{ item_description }}</p>
                                            {% endif %}
                                        </div>
                                    {% endif %}
                                    
                                    <!-- Bookmark date -->
                                    <div class="mt-4 pt-3 border-t border-gray-100">
                                        <p class="text-xs text-gray-400 flex items-center">
                                            <i class="fas fa-clock mr-1"></i>
                                            Bookmarked on {{ bookmark.created_at.strftime('%b %d, %Y') }}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
                {% endfor %}
            </div>
        {% else %}
            <!-- Empty State -->
            <div class="bg-white rounded-xl shadow-sm p-8 text-center">
                <div class="max-w-md mx-auto">
                    <div class="w-24 h-24 mx-auto mb-4 rounded-full bg-gradient-to-br from-gray-100 to-primary/10 flex items-center justify-center">
                        <i class="fas fa-bookmark text-gray-400 text-3xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-700 mb-2">No bookmarks yet</h3>
                    <p class="text-gray-500 mb-6">Start exploring and bookmark items that interest you!</p>
                    <a href="{{ url_for('index') }}" class="inline-flex items-center px-5 py-2.5 bg-gradient-to-r from-primary to-secondary text-white font-medium rounded-lg hover:from-primary/90 hover:to-secondary/90 transition-all duration-300 shadow-md">
                        <i class="fas fa-search mr-2"></i> Explore Content
                    </a>
                </div>
            </div>
        {% endif %}
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Filter functionality
    const filterButtons = document.querySelectorAll('.filter-btn');
    const bookmarkCategories = document.querySelectorAll('.bookmark-category');
    const bookmarkCards = document.querySelectorAll('.bookmark-card');
    
    filterButtons.forEach(button => {
        button.addEventListener('click', function() {
            const filter = this.dataset.filter;
            
            // Update active button
            filterButtons.forEach(btn => btn.classList.remove('active', 'bg-white/30'));
            this.classList.add('active', 'bg-white/30');
            
            // Show/hide categories and cards based on filter
            if (filter === 'all') {
                // Show all bookmarks
                bookmarkCategories.forEach(category => {
                    category.style.display = 'block';
                });
                bookmarkCards.forEach(card => {
                    card.style.display = 'block';
                });
            } else {
                // Show only selected type
                bookmarkCategories.forEach(category => {
                    if (category.dataset.type === filter) {
                        category.style.display = 'block';
                    } else {
                        category.style.display = 'none';
                    }
                });
                
                bookmarkCards.forEach(card => {
                    if (card.dataset.type === filter) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            }
        });
    });
    
    // Remove bookmark functionality
    document.querySelectorAll('.remove-bookmark').forEach(button => {
        button.addEventListener('click', function() {
            const bookmarkType = this.dataset.type;
            const itemId = this.dataset.id;
            
            fetch(`/bookmark/${bookmarkType}/${itemId}`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    // Animate removal
                    const card = this.closest('.bookmark-card');
                    card.style.transform = 'scale(0.95)';
                    card.style.opacity = '0';
                    
                    setTimeout(() => {
                        card.remove();
                        showNotification('Bookmark removed successfully', 'success');
                        
                        // Update the filter counts
                        updateFilterCounts();
                        
                        // Reload the page if no bookmarks left
                        setTimeout(() => {
                            if (document.querySelectorAll('.bookmark-card').length === 0) {
                                window.location.reload();
                            }
                        }, 1000);
                    }, 300);
                }
            })
            .catch(error => {
                console.error('Error:', error);
                showNotification('Error removing bookmark', 'error');
            });
        });
    });
    
    function updateFilterCounts() {
        // Update the count for each filter button
        filterButtons.forEach(button => {
            const filter = button.dataset.filter;
            if (filter === 'all') {
                const count = document.querySelectorAll('.bookmark-card').length;
                button.querySelector('span').textContent = count;
            } else {
                const count = document.querySelectorAll(`.bookmark-card[data-type="${filter}"]`).length;
                button.querySelector('span').textContent = count;
            }
        });
    }
    
    function showNotification(message, type) {
        // Create notification element
        const notification = document.createElement('div');
        notification.className = `fixed top-4 right-4 p-4 rounded-lg shadow-lg z-50 transition-all duration-300 transform translate-x-full ${type === 'success' ? 'bg-green-500' : type === 'error' ? 'bg-red-500' : 'bg-blue-500'} text-white font-medium`;
        notification.innerHTML = `
            <div class="flex items-center">
                <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-triangle'} mr-2"></i>
                <span>${message}</span>
            </div>
        `;
        
        // Add to document
        document.body.appendChild(notification);
        
        // Animate in
        setTimeout(() => {
            notification.classList.remove('translate-x-full');
            notification.classList.add('translate-x-0');
        }, 10);
        
        // Remove after delay
        setTimeout(() => {
            notification.classList.remove('translate-x-0');
            notification.classList.add('translate-x-full');
            setTimeout(() => {
                if (document.body.contains(notification)) {
                    document.body.removeChild(notification);
                }
            }, 300);
        }, 3000);
    }
});

function clearAllBookmarks() {
    if (confirm('Are you sure you want to clear all bookmarks? This action cannot be undone.')) {
        fetch('/bookmarks/clear', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                showNotification('All bookmarks cleared successfully', 'success');
                setTimeout(() => {
                    window.location.reload();
                }, 1000);
            } else {
                showNotification('Error clearing bookmarks: ' + data.message, 'error');
            }
        })
        .catch(error => {
            console.error('Error:', error);
            showNotification('Error clearing bookmarks', 'error');
        });
    }
}
</script>

<style>
.line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
}

.line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
}

.line-clamp-3 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
}

/* Smooth transitions for all interactive elements */
.transition-all {
    transition: all 0.3s ease;
}

/* Hover effects for cards */
.group:hover {
    transform: translateY(-2px);
}

/* Ensure text doesn't overflow */
.truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* Filter button styles */
.filter-btn.active {
    background-color: rgba(255, 255, 255, 0.3) !important;
}

.filter-btn:hover {
    background-color: rgba(255, 255, 255, 0.2);
    transform: translateY(-1px);
}
</style>
{% endblock %}
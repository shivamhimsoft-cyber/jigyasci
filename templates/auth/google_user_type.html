<!-- Updated templates/auth/google_user_type.html (dynamic user_types loop) -->
{% extends "authBase.html" %}

{% block title %}Select User Type | Google Signup{% endblock %}

{% block content %}
<div class="lg:w-5/12 w-full">
    <h2 class="font-bold text-3xl mb-3">Welcome {{ name }}!</h2>
    <p class="text-base text-dark dark:text-darklink mb-7 font-medium">Please select your user type to complete your Google signup.</p>

    <form method="POST" action="{{ url_for('auth.google_user_type_select') }}" novalidate>
        <div class="flex flex-col gap-5 mt-7">
            <!-- Email Display (readonly) -->
            <div>
                <label class="text-dark dark:text-darklink font-semibold mb-2 block">Email Address</label>
                <input type="email" value="{{ email }}" class="form-control rounded-full bg-gray-100" readonly>
            </div>

            <!-- User Type Selection (dynamic) -->
            <div>
                <label class="text-dark dark:text-darklink font-semibold mb-2 block">User Type *</label>
                <select name="user_type" class="form-control rounded-full" required>
                    <option value="">Select User Type</option>
                    {% for ut in user_types %}
                    <option value="{{ ut.name }}">{{ ut.name }}</option>
                    {% endfor %}
                </select>
            </div>

            <!-- Submit Button -->
            <button type="submit" class="btn btn-primary py-3 w-full">
                <i class="fas fa-sign-in-alt me-2"></i>Continue with Google Signup
            </button>

            <!-- Back to Login -->
            <div class="mt-4 text-center">
                <a href="{{ url_for('auth.login') }}" class="text-primary font-medium">Back to Login</a>
            </div>
        </div>
    </form>
</div>
{% endblock %}